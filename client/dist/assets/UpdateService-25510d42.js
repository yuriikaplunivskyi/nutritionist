import{r as u,j as a,L as m}from"./index-e8a01990.js";import{a as j}from"./axios-d16e7a2c.js";const k=({serviceId:l,setSelectedServiceId:v})=>{const h={title:"",descr:"",path:"",passing:[],prices:[],warnings:[],icon:""},[t,c]=u.useState(h),o=s=>{const{name:e,value:n}=s.target;c(i=>({...i,[e]:n}))},r=(s,e,n,i)=>{const g=[...t[i]];g[s][e]=n,c({...t,[i]:g})},p=(s,e)=>{c({...t,[s]:[...t[s],e]})},d=(s,e)=>{const n=[...t[e]];n.splice(s,1),c({...t,[e]:n})};u.useEffect(()=>{(async()=>{try{const e=await j.get(`https://kateryna-kaplunivska.com.ua/api/services/${l}`);console.log(e.data);const n={...e.data,passing:JSON.parse(e.data.passing),prices:JSON.parse(e.data.prices),warnings:JSON.parse(e.data.warnings)};c(n)}catch(e){console.log(e)}})()},[l]);const x=async s=>{s.preventDefault();try{await j.put(`https://kateryna-kaplunivska.com.ua/api/services/${l}`,t),c(h),v(null)}catch(e){console.log(e)}};return a.jsxs("div",{className:"updateForm",children:[a.jsxs("div",{className:"container",children:[a.jsx("h6",{children:"Змінити послугу"}),a.jsx("input",{type:"text",name:"title",value:t.title,onChange:o,placeholder:"Назва послуги"}),a.jsx("textarea",{cols:"30",rows:"10",value:t.descr,name:"descr",onChange:o,placeholder:"Опис послуги"}),a.jsx("input",{type:"text",name:"path",value:t.path,onChange:o,placeholder:"Шлях до послуги"}),a.jsxs("div",{children:[a.jsx("h6",{children:"Passing"}),t.passing.map((s,e)=>a.jsxs("div",{children:[a.jsx("input",{type:"text",value:s.stage,onChange:n=>r(e,"stage",n.target.value,"passing"),placeholder:`Passing ${e+1}`}),a.jsx("button",{className:"delete btn",onClick:()=>d(e,"passing"),children:"Видалити"})]},s.id)),a.jsx("button",{className:"add btn",onClick:()=>p("passing",{stage:"",id:t.passing.length+1}),children:"Додати Passing"})]}),a.jsxs("div",{children:[a.jsx("h6",{children:"Prices"}),t.prices.map((s,e)=>a.jsxs("div",{children:[a.jsx("input",{type:"text",value:s.price,onChange:n=>r(e,"price",n.target.value,"prices"),placeholder:`Prices ${e+1}`}),a.jsx("button",{className:"delete btn",onClick:()=>d(e,"prices"),children:"Видалити"})]},e)),a.jsx("button",{className:"add btn",onClick:()=>p("prices",{price:"",id:t.prices.length+1}),children:"Додати Prices"})]}),a.jsxs("div",{children:[a.jsx("h6",{children:"Warnings"}),t.warnings.map((s,e)=>a.jsxs("div",{children:[a.jsx("input",{type:"text",value:s.title,onChange:n=>r(e,"title",n.target.value,"warnings"),placeholder:`Title ${e+1}`}),a.jsx("input",{type:"text",value:s.content,onChange:n=>r(e,"content",n.target.value,"warnings"),placeholder:`Content ${e+1}`}),a.jsx("button",{className:"delete btn",onClick:()=>d(e,"warnings"),children:"Видалити"})]},e)),a.jsx("button",{className:"add btn",onClick:()=>p("warnings",{title:"",content:"",id:t.warnings.length+1}),children:"Додати Warnings"})]}),a.jsx("button",{className:"send btn",onClick:x,children:"Внести зміни"})]}),a.jsx(m,{className:"btn",to:"/admin/dashboard",children:"Повернутися "})]})};export{k as default};
